#!/bin/bash
# Job script to run simple mpi job in parallel on 1 node

# set default resource requirements for job (32 cores on 2 nodes for 1 hours)
# - these can be overridden on the qsub command line
#PBS -l nodes=8:ppn=16
#PBS -l walltime=36:00:00
#PBS -l pmem=100mb
#PBS -m ae -M s.m.senior@soton.ac.uk

#Change to directory from which job was submitted
cd $PBS_O_WORKDIR

# load openmpi module so that we find the mpirun command
# module load intel_mpi
module load openmpi
module load intel/mkl/2017

# . /local/software/intel/2017/mkl/bin/mklvars.sh -intel64

# Run executable in parallel over number of node/processors requested
# by the job, output messages go to output_file

./UPPE-XNLO.sh > ../output/output_UPPE-XNLO.txt
